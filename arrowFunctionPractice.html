<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .opening {
            background-color: red;
        }
    </style>

</head>
<body>

    <div class="box open">
        This is box
    </div>

    <script>
        //화살표 함수 기본 문법
        //(매개변수) => {메서드}
        let greeting = (name) => {
            return `hello ${name}`;
        };

        //매개변수 하나일 때 괄호 생략 가능
        greeting = name => {
            return `hello ${name}`;
        };

        //매개변수 전혀 없으면 ()
        greeting = () => {
            return "hello";
        };

        //암시적 반환
        greeting = name => `hello ${name}`;

        const race = "100m dash";
        const runners = ["Usain Bolt", "Justin Gatlin", "Asafa Powell"];
        
        const results =
        runners.map((runner, i) => ({name: runner, race, place: i + 1}));
        //매개변수 runner: 현재 runners 함수의 원소, i는 인덱스
        //Array.map() : 객체 배열 순환하며 메소드 반복 처리
        console.log(results);
        
        //참조할 이름이 필요할 때는 함수를 변수에 할당
        const welcome = name => `welcome ${name}!`;
        console.log(welcome("Tom"));

        //this 키워드
        //this가 객체의 메서드로 호출되면 this는 해당 객체 참조
        //전역범위 호출 시 Window 객체 참조
        //**화살표 함수에서 this는 부모 스코프에서 상속된다.**
        /*
        const box = document.querySelector(".box");
        box.addEventListener("click", function(){
            this.classList.toggle("opening"); //this > box
            setTimeout(function(){
                this.classList.toggle("opening");//this > Window 객체 (ERROR)
            }, 500);
        })
        */
        const box = document.querySelector(".box");
        box.addEventListener("click", function(){
            this.classList.toggle("opening"); //Element.clasList.toggle: 클래스 추가 제거 스위치
            setTimeout(() => {
                this.classList.toggle("opening");//this > 부모로부터 상속(box)
            }, 500);
        });

        //arguments 객체
        //해당 함수에서 전달된 인수 값을 담고 있는 함수 내부에서 접근할 수 있는 배열 객체
        function example(){
            console.log(arguments[0]);
        }
        example(1, 2, 3); //배열의 0번 인덱스 출력 //1

        //**화살표 함수에서 arguments 객체는 부모 스코프 값 상속
        const showWinner = () => {
            const winner = arguments[0];//arguments가 부모 상속 (ERROR)
            console.log(`${winner} was the winner`);
        };
        showWinner("Usain Bolt", "Justin Gatlin", "Asafa Powell");

        //기존 표기법이나 스프레드 문법 사용해야 함.

        
    </script>
</body>
</html>